package com.sample
import java.util.ArrayList;
import javax.swing.JFrame;
import java.util.ArrayList
import javax.swing.JOptionPane;

declare Question
	question : String
	answers : ArrayList
	answer : String
end

global JFrame frame 
function void askQuestion(JFrame frame,Question q){
	String[] answers = (String[])q.getAnswers.toArray(new String[q.getAnswers.size()]);
	String answer = (String)JOptionPane.showInputDialog(frame,
                                             q.getQuestion,
                                             "Question",
                                             JOptionPane.PLAIN_MESSAGE,
                                             null,
                                             answers,
                                             answers[0]);
    if ((answer != null) && (answer.length() > 0)) {
    	q.setAnswer(answer);
	}
} 


rule "Init"
	when
	then
		ArrayList<String> answers = new ArrayList<>();
		answers.add("Drama");
		answers.add("Comedy");
		Question q = new Question("Drama or Comedy",answers,null);
		frame = new JFrame();
		insert(q);
end
 
rule "Asking question"
	when
		q : Question(answer == null)
    then
    	askQuestion(frame,q);
end

